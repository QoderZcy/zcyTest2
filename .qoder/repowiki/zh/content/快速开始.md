# å¿«é€Ÿå¼€å§‹

<cite>
**æœ¬æ–‡æ¡£å¼•ç”¨çš„æ–‡ä»¶**
- [README.md](file://README.md)
- [pom.xml](file://pom.xml)
- [application.yml](file://src/main/resources/application.yml)
- [PhotoUploadApplication.java](file://src/main/java/com/photo/PhotoUploadApplication.java)
- [index.html](file://src/main/resources/static/index.html)
- [PhotoController.java](file://src/main/java/com/photo/controller/PhotoController.java)
- [SecurityConfig.java](file://src/main/java/com/photo/config/SecurityConfig.java)
- [schema.sql](file://src/main/resources/schema.sql)
- [API_DOCUMENTATION.md](file://API_DOCUMENTATION.md)
- [PROJECT_SUMMARY.md](file://PROJECT_SUMMARY.md)
</cite>

## ç›®å½•
1. [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
2. [ç¯å¢ƒè¦æ±‚](#ç¯å¢ƒè¦æ±‚)
3. [é¡¹ç›®å…‹éš†ä¸é…ç½®](#é¡¹ç›®å…‹éš†ä¸é…ç½®)
4. [æ•°æ®åº“é…ç½®](#æ•°æ®åº“é…ç½®)
5. [é¡¹ç›®ç¼–è¯‘ä¸è¿è¡Œ](#é¡¹ç›®ç¼–è¯‘ä¸è¿è¡Œ)
6. [åº”ç”¨è®¿é—®ä¸æµ‹è¯•](#åº”ç”¨è®¿é—®ä¸æµ‹è¯•)
7. [å‰ç«¯æµ‹è¯•é¡µé¢ä½¿ç”¨](#å‰ç«¯æµ‹è¯•é¡µé¢ä½¿ç”¨)
8. [APIæ¥å£æµ‹è¯•](#apiæ¥å£æµ‹è¯•)
9. [ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æ³¨æ„äº‹é¡¹](#ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æ³¨æ„äº‹é¡¹)
10. [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)

## é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäºSpring Boot 3.2.0å¼€å‘çš„ä¼ä¸šçº§ç…§ç‰‡ä¸Šä¼ ä¸‹è½½ç³»ç»Ÿï¼Œæä¾›å®Œæ•´çš„æ–‡ä»¶ç®¡ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬ä¸Šä¼ ã€ä¸‹è½½ã€åœ¨çº¿é¢„è§ˆã€æ–­ç‚¹ç»­ä¼ ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚ç³»ç»Ÿé‡‡ç”¨ç°ä»£åŒ–çš„æŠ€æœ¯æ ˆï¼Œå…·å¤‡å®Œå–„çš„å®‰å…¨æœºåˆ¶å’Œæ€§èƒ½ä¼˜åŒ–ç‰¹æ€§ã€‚

### æ ¸å¿ƒç‰¹æ€§
- âœ… **æ–‡ä»¶ä¸Šä¼ **ï¼šæ”¯æŒå•æ–‡ä»¶å’Œå¤šæ–‡ä»¶æ‰¹é‡ä¸Šä¼ ï¼Œæ–‡ä»¶ç±»å‹éªŒè¯ï¼Œå¤§å°é™åˆ¶
- âœ… **æ–‡ä»¶ä¸‹è½½**ï¼šæ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼Œåœ¨çº¿é¢„è§ˆï¼Œè®¿é—®æƒé™æ§åˆ¶
- âœ… **å®‰å…¨ç‰¹æ€§**ï¼šæ–‡ä»¶ç±»å‹å®‰å…¨æ£€æŸ¥ï¼Œé˜²ç›—é“¾ï¼ŒXSSé˜²æŠ¤
- âœ… **æ€§èƒ½ä¼˜åŒ–**ï¼šå›¾ç‰‡å‹ç¼©ï¼Œç¼©ç•¥å›¾ç”Ÿæˆï¼Œç¼“å­˜æœºåˆ¶
- âœ… **å­˜å‚¨ç®¡ç†**ï¼šæ–‡ä»¶å­˜å‚¨è·¯å¾„é…ç½®ï¼Œå®šæœŸæ¸…ç†ï¼Œå®¹é‡ç›‘æ§

## ç¯å¢ƒè¦æ±‚

åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨çš„å¼€å‘ç¯å¢ƒæ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š

### å¿…éœ€ç»„ä»¶
- **JDK 17+**ï¼šæ¨èä½¿ç”¨OpenJDK 17æˆ–Oracle JDK 17
- **Maven 3.6+**ï¼šç”¨äºé¡¹ç›®æ„å»ºå’Œä¾èµ–ç®¡ç†
- **MySQL 5.7+**ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰ï¼šç”¨äºç”Ÿäº§ç¯å¢ƒæ•°æ®åº“

### å¼€å‘å·¥å…·å»ºè®®
- **IDE**ï¼šIntelliJ IDEAã€Eclipseæˆ–VS Code
- **æµè§ˆå™¨**ï¼šChromeã€Firefoxæˆ–Edgeï¼ˆæ¨èä½¿ç”¨Chromeï¼‰

## é¡¹ç›®å…‹éš†ä¸é…ç½®

### 1. å…‹éš†é¡¹ç›®

```bash
# ä½¿ç”¨Gitå…‹éš†é¡¹ç›®
git clone https://github.com/your-repository-url.git
cd zcyTest2
```

### 2. é¡¹ç›®ç»“æ„æ¦‚è§ˆ

é¡¹ç›®é‡‡ç”¨æ ‡å‡†çš„Spring Bootç›®å½•ç»“æ„ï¼š

```
zcyTest2/
â”œâ”€â”€ src/main/java/com/photo/          # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ config/                       # é…ç½®ç±»
â”‚   â”œâ”€â”€ controller/                   # æ§åˆ¶å™¨å±‚
â”‚   â”œâ”€â”€ service/                      # æœåŠ¡å±‚
â”‚   â”œâ”€â”€ repository/                   # æ•°æ®è®¿é—®å±‚
â”‚   â””â”€â”€ util/                         # å·¥å…·ç±»
â”œâ”€â”€ src/main/resources/               # èµ„æºæ–‡ä»¶
â”‚   â”œâ”€â”€ application.yml               # ä¸»é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ static/                       # é™æ€èµ„æº
â”‚   â””â”€â”€ schema.sql                    # æ•°æ®åº“è„šæœ¬
â””â”€â”€ src/test/                         # æµ‹è¯•ä»£ç 
```

### 3. ä¾èµ–ç®¡ç†

é¡¹ç›®ä½¿ç”¨Mavenè¿›è¡Œä¾èµ–ç®¡ç†ï¼Œä¸»è¦æŠ€æœ¯æ ˆåŒ…æ‹¬ï¼š
- Spring Boot 3.2.0ï¼ˆæ ¸å¿ƒæ¡†æ¶ï¼‰
- Spring Data JPAï¼ˆORMï¼‰
- Spring Securityï¼ˆå®‰å…¨ï¼‰
- H2æ•°æ®åº“ï¼ˆå¼€å‘ç¯å¢ƒï¼‰
- Thumbnailatorï¼ˆå›¾ç‰‡å¤„ç†ï¼‰
- Apache Tikaï¼ˆæ–‡ä»¶ç±»å‹æ£€æµ‹ï¼‰

**ç« èŠ‚æ¥æº**
- [pom.xml](file://pom.xml#L1-L155)
- [README.md](file://README.md#L56-L66)

## æ•°æ®åº“é…ç½®

ç³»ç»Ÿé»˜è®¤ä½¿ç”¨H2åµŒå…¥å¼æ•°æ®åº“è¿›è¡Œå¼€å‘ï¼Œæ”¯æŒåˆ‡æ¢åˆ°MySQLæ•°æ®åº“ã€‚

### H2æ•°æ®åº“é…ç½®ï¼ˆé»˜è®¤ï¼‰

```yaml
spring:
  datasource:
    url: jdbc:h2:file:./data/photodb
    driver-class-name: org.h2.Driver
    username: sa
    password: 
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.H2Dialect
```

### MySQLæ•°æ®åº“é…ç½®ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/photo_db?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
    driver-class-name: com.mysql.cj.jdbc.Driver
    username: root
    password: your_password
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.MySQLDialect
```

### æ•°æ®åº“åˆå§‹åŒ–

ç³»ç»Ÿæ”¯æŒä¸¤ç§æ•°æ®åº“åˆå§‹åŒ–æ–¹å¼ï¼š

1. **JPAè‡ªåŠ¨åˆ›å»º**ï¼šé€šè¿‡`ddl-auto: update`è‡ªåŠ¨åˆ›å»ºè¡¨ç»“æ„
2. **SQLè„šæœ¬**ï¼šä½¿ç”¨`schema.sql`æ–‡ä»¶æ‰‹åŠ¨åˆ›å»ºè¡¨

**ç« èŠ‚æ¥æº**
- [application.yml](file://src/main/resources/application.yml#L6-L28)
- [schema.sql](file://src/main/resources/schema.sql#L1-L37)

## é¡¹ç›®ç¼–è¯‘ä¸è¿è¡Œ

### 1. ç¼–è¯‘é¡¹ç›®

```bash
# æ¸…ç†å¹¶ç¼–è¯‘é¡¹ç›®
mvn clean package
```

ç¼–è¯‘å®Œæˆåï¼Œä¼šåœ¨`target/`ç›®å½•ä¸‹ç”Ÿæˆå¯æ‰§è¡Œçš„JARæ–‡ä»¶ï¼š`photo-upload-system-1.0.0.jar`

### 2. è¿è¡Œåº”ç”¨

#### æ–¹æ³•ä¸€ï¼šä½¿ç”¨Spring Bootæ’ä»¶è¿è¡Œ

```bash
# ç›´æ¥è¿è¡ŒSpring Bootåº”ç”¨
mvn spring-boot:run
```

#### æ–¹æ³•äºŒï¼šè¿è¡Œç¼–è¯‘åçš„JARæ–‡ä»¶

```bash
# è¿è¡Œæ‰“åŒ…åçš„JARæ–‡ä»¶
java -jar target/photo-upload-system-1.0.0.jar
```

### 3. éªŒè¯å¯åŠ¨

å¯åŠ¨æˆåŠŸåï¼Œæ‚¨åº”è¯¥çœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹çš„æ—¥å¿—è¾“å‡ºï¼š

```
Tomcat started on port(s): 8080 (http) with context path '/api'
PhotoUploadApplication started in XX.XXX seconds
```

**ç« èŠ‚æ¥æº**
- [README.md](file://README.md#L69-L98)
- [PhotoUploadApplication.java](file://src/main/java/com/photo/PhotoUploadApplication.java#L1-L20)

## åº”ç”¨è®¿é—®ä¸æµ‹è¯•

### 1. åº”ç”¨åŸºæœ¬ä¿¡æ¯

- **åŸºç¡€URL**: `http://localhost:8080/api`
- **ä¸Šä¸‹æ–‡è·¯å¾„**: `/api`
- **é»˜è®¤ç«¯å£**: `8080`

### 2. å…³é”®è®¿é—®åœ°å€

| åŠŸèƒ½ | URL | è¯´æ˜ |
|------|-----|------|
| å‰ç«¯æµ‹è¯•é¡µé¢ | `http://localhost:8080/api/` | åŒ…å«ä¸Šä¼ åŠŸèƒ½çš„HTMLé¡µé¢ |
| Swagger APIæ–‡æ¡£ | `http://localhost:8080/api/swagger-ui.html` | äº¤äº’å¼APIæ–‡æ¡£ |
| H2æ•°æ®åº“æ§åˆ¶å° | `http://localhost:8080/api/h2-console` | æ•°æ®åº“ç®¡ç†ç•Œé¢ |

### 3. è®¿é—®éªŒè¯

æ‰“å¼€æµè§ˆå™¨è®¿é—®ä»¥ä¸‹åœ°å€éªŒè¯åº”ç”¨æ˜¯å¦æ­£å¸¸è¿è¡Œï¼š

```bash
# å‰ç«¯æµ‹è¯•é¡µé¢
http://localhost:8080/api/

# Swaggeræ–‡æ¡£
http://localhost:8080/api/swagger-ui.html

# H2æ§åˆ¶å°ï¼ˆå¦‚æœå¯ç”¨ï¼‰
http://localhost:8080/api/h2-console
```

**ç« èŠ‚æ¥æº**
- [README.md](file://README.md#L100-L104)
- [application.yml](file://src/main/resources/application.yml#L30-L35)

## å‰ç«¯æµ‹è¯•é¡µé¢ä½¿ç”¨

ç³»ç»Ÿæä¾›äº†ä¸€ä¸ªå®Œæ•´çš„å‰ç«¯æµ‹è¯•é¡µé¢ï¼Œä½äº`src/main/resources/static/index.html`ï¼Œå¯ä»¥ç›´æ¥è®¿é—®ä½“éªŒæ‰€æœ‰åŠŸèƒ½ã€‚

### é¡µé¢åŠŸèƒ½ä»‹ç»

1. **å­˜å‚¨ç©ºé—´ä¿¡æ¯**ï¼šå®æ—¶æ˜¾ç¤ºå­˜å‚¨ä½¿ç”¨æƒ…å†µ
2. **æ–‡ä»¶ä¸Šä¼ åŒºåŸŸ**ï¼šæ”¯æŒå¤šæ–‡ä»¶é€‰æ‹©å’Œä¸Šä¼ 
3. **ä¸Šä¼ è¿›åº¦æ¡**ï¼šæ˜¾ç¤ºä¸Šä¼ è¿›åº¦
4. **ç…§ç‰‡ç”»å»Š**ï¼šå±•ç¤ºå·²ä¸Šä¼ çš„ç…§ç‰‡åˆ—è¡¨

### ä½¿ç”¨æ­¥éª¤

1. **æ‰“å¼€æµ‹è¯•é¡µé¢**
   ```bash
   http://localhost:8080/api/
   ```

2. **é€‰æ‹©æ–‡ä»¶**
   - ç‚¹å‡»"ğŸ“ é€‰æ‹©å›¾ç‰‡æ–‡ä»¶"æŒ‰é’®
   - é€‰æ‹©è¦ä¸Šä¼ çš„å›¾ç‰‡æ–‡ä»¶ï¼ˆæ”¯æŒJPGã€PNGã€GIFç­‰æ ¼å¼ï¼‰
   - æœ€å¤šå¯é€‰æ‹©10ä¸ªæ–‡ä»¶

3. **å¼€å§‹ä¸Šä¼ **
   - ç‚¹å‡»"â¬†ï¸ ä¸Šä¼ å›¾ç‰‡"æŒ‰é’®
   - ä¸Šä¼ è¿›åº¦ä¼šå®æ—¶æ˜¾ç¤º
   - ä¸Šä¼ å®Œæˆåè‡ªåŠ¨åˆ·æ–°ç…§ç‰‡åˆ—è¡¨

4. **æŸ¥çœ‹æ•ˆæœ**
   - ä¸Šä¼ æˆåŠŸåï¼Œç…§ç‰‡ä¼šæ˜¾ç¤ºåœ¨ç”»å»Šä¸­
   - å¯ä»¥ç‚¹å‡»"é¢„è§ˆ"æŸ¥çœ‹åŸå›¾
   - å¯ä»¥ç‚¹å‡»"ä¸‹è½½"ä¿å­˜åˆ°æœ¬åœ°

### æŠ€æœ¯å®ç°

å‰ç«¯é¡µé¢ä½¿ç”¨äº†ç°ä»£WebæŠ€æœ¯ï¼š
- **HTML5**ï¼šæ–‡ä»¶æ‹–æ‹½å’Œå¤šæ–‡ä»¶é€‰æ‹©
- **JavaScript**ï¼šå¼‚æ­¥ä¸Šä¼ å’Œè¿›åº¦æ˜¾ç¤º
- **Fetch API**ï¼šä¸åç«¯APIé€šä¿¡
- **CSS3**ï¼šå“åº”å¼å¸ƒå±€å’ŒåŠ¨ç”»æ•ˆæœ

**ç« èŠ‚æ¥æº**
- [index.html](file://src/main/resources/static/index.html#L1-L442)

## APIæ¥å£æµ‹è¯•

ç³»ç»Ÿæä¾›äº†å®Œæ•´çš„RESTful APIæ¥å£ï¼Œå¯ä»¥é€šè¿‡å¤šç§æ–¹å¼è¿›è¡Œæµ‹è¯•ã€‚

### 1. Swaggeræ–‡æ¡£æµ‹è¯•

æœ€ä¾¿æ·çš„æ–¹å¼æ˜¯ä½¿ç”¨Swaggeræ–‡æ¡£è¿›è¡ŒAPIæµ‹è¯•ï¼š

```bash
# è®¿é—®Swaggerç•Œé¢
http://localhost:8080/api/swagger-ui.html
```

åœ¨Swaggerç•Œé¢ä¸­ï¼š
- å¯ä»¥æŸ¥çœ‹æ‰€æœ‰å¯ç”¨çš„APIæ¥å£
- æä¾›äº¤äº’å¼çš„æµ‹è¯•åŠŸèƒ½
- æ”¯æŒå‚æ•°å¡«å†™å’Œç»“æœé¢„è§ˆ

### 2. cURLå‘½ä»¤æµ‹è¯•

#### ä¸Šä¼ å•ä¸ªæ–‡ä»¶

```bash
# ä¸Šä¼ å•ä¸ªæ–‡ä»¶
curl -X POST http://localhost:8080/api/photos/upload \
  -F "file=@/path/to/photo.jpg" \
  -F "userId=user123" \
  -F "description=æˆ‘çš„ç…§ç‰‡"
```

#### æ‰¹é‡ä¸Šä¼ æ–‡ä»¶

```bash
# æ‰¹é‡ä¸Šä¼ å¤šä¸ªæ–‡ä»¶
curl -X POST http://localhost:8080/api/photos/upload/batch \
  -F "files=@/path/to/photo1.jpg" \
  -F "files=@/path/to/photo2.jpg" \
  -F "userId=user123"
```

#### è·å–ç…§ç‰‡åˆ—è¡¨

```bash
# è·å–å…¬å¼€ç…§ç‰‡åˆ—è¡¨
curl http://localhost:8080/api/photos/public?page=0&size=20
```

### 3. Postmanæµ‹è¯•

æ¨èä½¿ç”¨Postmanè¿›è¡ŒAPIæµ‹è¯•ï¼š
- å¯¼å…¥`API_DOCUMENTATION.md`ä¸­çš„æ¥å£è¯´æ˜
- è®¾ç½®åˆé€‚çš„è¯·æ±‚å¤´å’Œå‚æ•°
- æµ‹è¯•å„ç§è¾¹ç•Œæ¡ä»¶

### 4. å¸¸ç”¨APIæ¥å£

| æ¥å£ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/photos/upload` | POST | ä¸Šä¼ å•ä¸ªç…§ç‰‡ |
| `/photos/upload/batch` | POST | æ‰¹é‡ä¸Šä¼ ç…§ç‰‡ |
| `/photos/view/{filename}` | GET | åœ¨çº¿é¢„è§ˆç…§ç‰‡ |
| `/photos/download/{filename}` | GET | ä¸‹è½½ç…§ç‰‡ |
| `/photos/public` | GET | è·å–å…¬å¼€ç…§ç‰‡åˆ—è¡¨ |
| `/photos/storage/info` | GET | è·å–å­˜å‚¨ä¿¡æ¯ |

**ç« èŠ‚æ¥æº**
- [API_DOCUMENTATION.md](file://API_DOCUMENTATION.md#L1-L509)
- [PhotoController.java](file://src/main/java/com/photo/controller/PhotoController.java#L1-L316)

## ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æ³¨æ„äº‹é¡¹

### 1. å®‰å…¨é…ç½®

ç”Ÿäº§ç¯å¢ƒä¸­å¿…é¡»ä¿®æ”¹ä»¥ä¸‹å®‰å…¨é…ç½®ï¼š

```yaml
security:
  token:
    secret: your-secret-key-change-this-in-production  # ä¿®æ”¹ä¸ºå¼ºå¯†é’¥
    expiration: 86400
  referer:
    enabled: true
    allowed-domains:
      - your-domain.com
      - www.your-domain.com
```

### 2. æ•°æ®åº“é…ç½®

```yaml
spring:
  datasource:
    url: jdbc:mysql://production-db-host:3306/photo_db?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
    username: production_username
    password: strong_password
```

### 3. æ–‡ä»¶å­˜å‚¨é…ç½®

```yaml
file:
  storage:
    base-path: /var/www/uploads          # ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ç»å¯¹è·¯å¾„
    max-file-size: 10485760             # 10MB
    max-storage-size: 107374182400      # 100GBï¼ˆå¯æ ¹æ®éœ€è¦è°ƒæ•´ï¼‰
```

### 4. ç”Ÿäº§ç¯å¢ƒæœ€ä½³å®è·µ

#### æœåŠ¡å™¨é…ç½®
- ä½¿ç”¨Nginxæˆ–Apacheä½œä¸ºåå‘ä»£ç†
- é…ç½®HTTPSè¯ä¹¦
- è®¾ç½®é€‚å½“çš„æ–‡ä»¶æƒé™

#### ç›‘æ§å’Œæ—¥å¿—
- é…ç½®æ—¥å¿—è½®è½¬
- è®¾ç½®å‘Šè­¦æœºåˆ¶
- ç›‘æ§å­˜å‚¨ç©ºé—´ä½¿ç”¨æƒ…å†µ

#### å¤‡ä»½ç­–ç•¥
- å®šæœŸå¤‡ä»½æ•°æ®åº“
- å¤‡ä»½ä¸Šä¼ çš„æ–‡ä»¶
- æµ‹è¯•æ¢å¤æµç¨‹

### 5. æ€§èƒ½ä¼˜åŒ–

```yaml
# ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–é…ç½®
server:
  compression:
    enabled: true
    mime-types: text/html,text/xml,text/plain,text/css,application/javascript,application/json,image/svg+xml
  
spring:
  cache:
    type: caffeine
    caffeine:
      spec: maximumSize=10000,expireAfterWrite=3600s
```

**ç« èŠ‚æ¥æº**
- [README.md](file://README.md#L254-L265)
- [application.yml](file://src/main/resources/application.yml#L1-L173)

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

#### 1. ç«¯å£å ç”¨é—®é¢˜

**é—®é¢˜**ï¼šç«¯å£8080å·²è¢«å ç”¨
```bash
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
netstat -ano | findstr :8080

# æ€æ­»å ç”¨è¿›ç¨‹ï¼ˆWindowsï¼‰
taskkill /PID <PID> /F

# æˆ–è€…æ›´æ”¹åº”ç”¨ç«¯å£
# åœ¨application.ymlä¸­ä¿®æ”¹ï¼š
server:
  port: 8081
```

#### 2. æ•°æ®åº“è¿æ¥é—®é¢˜

**é—®é¢˜**ï¼šæ— æ³•è¿æ¥åˆ°æ•°æ®åº“
```bash
# æ£€æŸ¥æ•°æ®åº“æœåŠ¡æ˜¯å¦å¯åŠ¨
mysql -u root -p

# æ£€æŸ¥æ•°æ®åº“è¿æ¥é…ç½®
# ç¡®ä¿æ•°æ®åº“åç§°ã€ç”¨æˆ·åã€å¯†ç æ­£ç¡®
```

#### 3. æ–‡ä»¶ä¸Šä¼ å¤±è´¥

**é—®é¢˜**ï¼šæ–‡ä»¶ä¸Šä¼ è¿‡ç¨‹ä¸­æ–­
```bash
# æ£€æŸ¥ç£ç›˜ç©ºé—´
df -h

# æ£€æŸ¥æ–‡ä»¶æƒé™
ls -la uploads/

# æ£€æŸ¥åº”ç”¨æ—¥å¿—
tail -f logs/photo-upload-system.log
```

#### 4. å†…å­˜ä¸è¶³é—®é¢˜

**é—®é¢˜**ï¼šåº”ç”¨å¯åŠ¨æ—¶å†…å­˜ä¸è¶³
```bash
# å¢åŠ JVMå †å†…å­˜
java -Xmx1024m -jar target/photo-upload-system-1.0.0.jar

# æˆ–åœ¨application.ymlä¸­é…ç½®
spring:
  jpa:
    properties:
      hibernate:
        jdbc:
          batch_size: 20
```

### è°ƒè¯•æŠ€å·§

1. **æŸ¥çœ‹è¯¦ç»†æ—¥å¿—**
   ```bash
   # å¯åŠ¨æ—¶æ·»åŠ è°ƒè¯•å‚æ•°
   mvn spring-boot:run -Dspring-boot.run.jvmArguments="-Dlogging.level.root=DEBUG"
   ```

2. **ä½¿ç”¨H2æ§åˆ¶å°è°ƒè¯•**
   - è®¿é—®`http://localhost:8080/api/h2-console`
   - ä½¿ç”¨JDBC URLï¼š`jdbc:h2:file:./data/photodb`
   - æµ‹è¯•æ•°æ®åº“æŸ¥è¯¢

3. **æ£€æŸ¥APIå“åº”**
   - ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·
   - æ£€æŸ¥ç½‘ç»œè¯·æ±‚å’Œå“åº”
   - éªŒè¯JSONæ ¼å¼

### è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹èµ„æºï¼š
- [é¡¹ç›®READMEæ–‡æ¡£](file://README.md)
- [APIæ¥å£æ–‡æ¡£](file://API_DOCUMENTATION.md)
- [é¡¹ç›®æ€»ç»“æ–‡æ¡£](file://PROJECT_SUMMARY.md)
- GitHub Issuesï¼ˆå¦‚æœæ˜¯å¼€æºé¡¹ç›®ï¼‰

**ç« èŠ‚æ¥æº**
- [SecurityConfig.java](file://src/main/java/com/photo/config/SecurityConfig.java#L1-L71)

## ç»“è¯­

é€šè¿‡æœ¬å¿«é€Ÿå¼€å§‹æŒ‡å—ï¼Œæ‚¨å·²ç»æˆåŠŸæ­å»ºå¹¶è¿è¡Œäº†ç…§ç‰‡ä¸Šä¼ ä¸‹è½½ç³»ç»Ÿã€‚ç³»ç»Ÿæä¾›äº†å®Œæ•´çš„åŠŸèƒ½å’Œè‰¯å¥½çš„å¼€å‘ä½“éªŒï¼Œé€‚åˆå­¦ä¹ å’Œç”Ÿäº§ç¯å¢ƒä½¿ç”¨ã€‚

### ä¸‹ä¸€æ­¥å»ºè®®

1. **æ·±å…¥å­¦ä¹ **ï¼šé˜…è¯»å„ä¸ªæ¨¡å—çš„æºä»£ç ï¼Œç†è§£ç³»ç»Ÿæ¶æ„
2. **åŠŸèƒ½æ‰©å±•**ï¼šåŸºäºç°æœ‰æ¡†æ¶æ·»åŠ æ–°çš„åŠŸèƒ½
3. **æ€§èƒ½è°ƒä¼˜**ï¼šæ ¹æ®å®é™…éœ€æ±‚ä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½
4. **å®‰å…¨åŠ å›º**ï¼šå®Œå–„ç”Ÿäº§ç¯å¢ƒçš„å®‰å…¨é…ç½®

ç¥æ‚¨å¼€å‘æ„‰å¿«ï¼